<!-- Přidejte do <body> mezi existující divy -->
<div id="pauseScreen">
  <div id="pauseText">PAUZA</div>
  <button id="continueGameBtn">POKRAČOVAT</button>
  <button id="endGameBtn">KONEC</button>
</div>

<style>
  /* --- PAUSE SCREEN --- */
  #pauseScreen {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.85);
    color: #fff;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    text-align: center;
  }
  #pauseText {
    font-size: 60px;
    font-weight: bold;
    margin-bottom: 30px;
  }
  #continueGameBtn, #endGameBtn {
    font-size: 28px;
    padding: 15px 40px;
    margin: 10px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    color: #fff;
    background: linear-gradient(45deg,#a044ff,#6a00f4,#d166ff);
    box-shadow: 0 0 10px #d166ff, 0 0 20px #a044ff;
  }

  /* --- PAUSE BUTTON --- */
  #pauseBtn {
    position: fixed;
    top: 10px; left: 10px;
    font-size: 20px;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background: linear-gradient(45deg,#a044ff,#6a00f4);
    color: #fff;
    cursor: pointer;
    z-index: 1001;
    display: none;
  }
</style>

<button id="pauseBtn">PAUZA</button>

<script>
  const pauseScreen = document.getElementById('pauseScreen');
  const continueGameBtn = document.getElementById('continueGameBtn');
  const endGameBtn = document.getElementById('endGameBtn');
  const pauseBtn = document.getElementById('pauseBtn');

  let gamePaused = false;

  function togglePause(){
    if(!gameRunning) return;
    gamePaused = !gamePaused;
    if(gamePaused){
      pauseScreen.style.display = 'flex';
    } else {
      pauseScreen.style.display = 'none';
      requestAnimationFrame(updateBubbles);
    }
  }

  pauseBtn.addEventListener('click', togglePause);
  continueGameBtn.addEventListener('click', () => { gamePaused = false; togglePause(); });
  endGameBtn.addEventListener('click', () => {
    gamePaused = false;
    pauseScreen.style.display = 'none';
    endGame();
  });

  // Zobrazit pause button při startu hry
  function startGame(){
    score=0; lives=3; bubbles=[]; gameRunning=true; startTime=Date.now();
    scoreEl.textContent="Skóre: "+score; livesEl.textContent="Životy: "+lives;
    pauseBtn.style.display = 'block'; // <-- Přidáno
    spawnBubble();
    requestAnimationFrame(updateBubbles);
  }

  // Upravit updateBubbles pro pauzu
  function updateBubbles(){
    if(!gameRunning || gamePaused) return;
    bubbles.forEach(bubble=>{
      const top=parseFloat(bubble.style.top);
      bubble.style.top=top-parseFloat(bubble.dataset.speed)+'px';
      if(top<=0){  
        lives--; livesEl.textContent="Životy: "+lives;  
        bubble.remove(); bubbles=bubbles.filter(b=>b!==bubble);  
        if(lives<=0) endGame();
      }
    });
    requestAnimationFrame(updateBubbles);
  }
</script>
